# üìÅ PROJECT_STRUCTURE.md ‚Äî BinanceBot (–∏—é–ª—å 2025)

–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ª–æ–≥–∏–∫–∏.

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

### `main.py`

> –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞: —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –≤—Ö–æ–¥–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

-   –ó–∞–≥—Ä—É–∂–∞–µ—Ç runtime config –∏ Telegram-–∫–æ–º–∞–Ω–¥—ã
-   –í—ã–∑—ã–≤–∞–µ—Ç `run_trading_cycle()`
-   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç shutdown —á–µ—Ä–µ–∑ state

### `engine_controller.py`

> –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ü–∏–∫–ª–æ–º: –≤—ã–±–æ—Ä –ø–∞—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π, –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞.

-   `run_trading_cycle()` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ç–æ—Ä–≥–æ–≤–ª–∏
-   –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ª–∏–º–∏—Ç—ã, –ø—Ä–æ–ø—É—Å–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –≤—Ö–æ–¥—ã

### `symbol_processor.py`

> –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª:

-   –í—ã–∑—ã–≤–∞–µ—Ç `should_enter_trade(...)`
-   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `enter_trade(...)`

### `trade_engine.py`

> –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏:

-   `enter_trade()` ‚Äî —Ä–∞—Å—á—ë—Ç –æ–±—ä–µ–º–∞, –≤—Ö–æ–¥, TP/SL
-   `monitor_active_position()` ‚Äî TP/SL/step/exit
-   `record_trade_result()` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### `strategy.py`

> –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:

-   `should_enter_trade()` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ –≤—Ö–æ–¥–µ
-   `passes_1plus1()`, score-—Ñ—É–Ω–∫—Ü–∏–∏, –∞–Ω—Ç–∏—Ñ–ª—É–¥, TP-—Ñ–∏–ª—å—Ç—Ä—ã

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### `runtime_config.json`

> –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.

-   max_concurrent_positions, step_tp_levels, SL_PERCENT –∏ –ø—Ä.

### `utils_core.py`

> –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–µ—à–∏:

-   –ë–∞–ª–∞–Ω—Å/–ø–æ–∑–∏—Ü–∏–∏, state, config update
-   `safe_call_retry()`, `get_runtime_config()`

### `config_loader.py`

> –ü—É—Ç–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

-   `CONFIG_FILE`, `EXPORT_PATH`, –ª–æ–≥-—Ñ–∞–π–ª, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã dry run –∏ –ø—Ä.

### `constants.py`

> –ü—É—Ç–∏ –∫ CSV/JSON —Ñ–∞–π–ª–∞–º (tp_log, state, stats –∏ –¥—Ä.)

### `.env`

> –ö–ª—é—á–∏ API –∏ Telegram, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üìà –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏ –∏ —Ä–∏—Å–∫–∞–º–∏

### `risk_utils.py`

-   –†–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–∏, qty, stop-loss –∏ risk amount
-   `calculate_position_size()`, `calculate_order_quantity()`

### `risk_guard.py`

-   –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤: capital utilization, max positions

### `position_manager.py`

-   –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏–π

### `leverage_config.py`

-   –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ø–ª–µ—á–∞ (–∞–≤—Ç–æ –∏–ª–∏ —Ñ–∏–∫—Å)

### `order_utils.py`

-   –ú–∞—Ä–∫–µ—Ç/–ª–∏–º–∏—Ç –æ—Ä–¥–µ—Ä–∞, FOK, reduceOnly, postOnly
-   –û–±—Ä–∞–±–æ—Ç–∫–∞ `filled_qty == 0` –∏ fallback –ª–æ–≥–∏–∫–∏

### `binance_api.py`

-   Binance-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã: OHLCV, symbol info, precision

### `exchange_init.py`

-   –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è CCXT exchange (testnet/mainnet)

---

## üß† –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

### `pair_selector.py`

-   –û—Ç–±–æ—Ä –ø–∞—Ä –ø–æ –æ–±—ä—ë–º—É, ATR, fixed_pairs, –∏—Å–∫–ª—é—á–µ–Ω–∏—è

### `priority_evaluator.py`

-   –û—Ü–µ–Ω–∫–∞ –¥–∏–Ω–∞–º–∏–∫–∏ —Å—á—ë—Ç–∞, –∞–¥–∞–ø—Ç–∞—Ü–∏—è TP/–æ–±—ä—ë–º–∞ –ø–æ equity

### `scalping_mode.py`

-   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∂–∏–º–∞ Scalp/HFT: –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ñ–∏–ª—å—Ç—Ä–æ–≤

### `signal_utils.py`

-   MACD, RSI, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, direction, —Å–≤–µ—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### `open_interest_tracker.py`

-   –ü–æ–ª—É—á–µ–Ω–∏–µ open interest –ø–æ —Å–∏–º–≤–æ–ª—É —Å Binance

---

## üß™ –¢–µ—Å—Ç—ã, –∞–Ω–∞–ª–∏–∑ –∏ –æ—Ç–ª–∞–¥–∫–∞

### `test_api.py`

-   –ü—Ä–æ–≤–µ—Ä–∫–∞, –∫–∞–∫–∏–µ –ø–∞—Ä—ã Binance –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç 3m/5m/15m OHLCV

### `debug_tools.py`

-   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏: —Ç–µ—Å—Ç —Å–∏–º–≤–æ–ª–æ–≤, –≤—ã–≤–æ–¥ –±–∞–ª–∞–Ω—Å–∞ –∏ –¥—Ä.

### `continuous_scanner.py`

-   –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∫–∞–Ω–µ—Ä —Å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ª–æ–≥–æ–º

---

## üìä –õ–æ–≥–≥–µ—Ä—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### `entry_logger.py`

-   –õ–æ–≥–∏—Ä—É–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞: success, reject, breakdown

### `tp_sl_logger.py`

-   –°–æ—Ö—Ä–∞–Ω—è–µ—Ç TP1/TP2/SL –∏ fallback –≤ CSV + Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### `tp_optimizer.py`

-   –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç TP —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —É—Ä–æ–≤–Ω–∏ TP1/TP2

### `tp_utils.py`

-   –†–∞—Å—á—ë—Ç TP —É—Ä–æ–≤–Ω–µ–π, SL, trailing, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è qty

### `stats.py`

-   –†–∞—Å—á—ë—Ç –¥–Ω–µ–≤–Ω–æ–π/—á–∞—Å–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (PnL, TP rate, SL rate)

### `runtime_stats.py`

-   –ö–æ–Ω—Ç—Ä–æ–ª—å –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–¥–µ–ª–æ–∫, –º–∞–∫—Å. –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —Å—Ç–æ–ø–æ–≤

### `fail_stats_tracker.py`

-   –¢—Ä–µ–∫–µ—Ä –ø—Ä–æ–≤–∞–ª–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤, –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ SL –∏ –¥—Ä.

### `failure_logger.py`

-   –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏–≥–Ω–∞–ª–æ–≤ (direction, qty, –æ–±—ä–µ–º –∏ —Ç.–ø.)

### `component_tracker.py`

-   –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–ª–∏—è–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (MACD, volume –∏ –¥—Ä.)

### `missed_tracker.py`

-   –õ–æ–≥–∏—Ä—É–µ—Ç missed opportunities + –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞ –æ—Ç –≤—Ö–æ–¥–∞

---

## üì¨ Telegram –∏ –∫–æ–º–∞–Ω–¥—ã

### `telegram_utils.py`

-   –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏–∫–∞ force=True –∏ markdown

### `telegram_handler.py`

-   –û–±—Ä–∞–±–æ—Ç–∫–∞ Telegram-–∫–æ–º–∞–Ω–¥: `/start`, `/stop`, `/status` –∏ —Ç.–ø.

### `telegram_commands.py`

-   –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã (stopbot, getlog, force_enter)

### `registry.py`

-   –†–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö Telegram-–∫–æ–º–∞–Ω–¥ (–¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤)

---

## üß† –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ

### `ip_monitor.py`

-   –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–º–µ–Ω—ã IP-–∞–¥—Ä–µ—Å–∞, Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### `runtime_state.py`

-   –†–∞–±–æ—Ç–∞ —Å —Ñ–ª–∞–≥–∞–º–∏: shutdown, stopping, control state.json

### `notifier.py`

-   –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏ –ø—Ä.)

---

## ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤ (–∏–∑ constants.py)

-   `data/runtime_config.json` ‚Äî –∫–ª—é—á–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
-   `data/tp_performance.csv` ‚Äî TP/SL —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
-   `data/entry_log.csv` ‚Äî –ª–æ–≥ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
-   `data/fail_stats.json` ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–≤–∞–ª–æ–≤
-   `data/missed_opportunities.json` ‚Äî missed –≤—Ö–æ–¥—ã
-   `data/bot_state.json` ‚Äî —Ñ–ª–∞–≥–∏ shutdown, stopping
-   `data/backups/` ‚Äî –±—ç–∫–∞–ø—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤
-   `data/parameter_history.json` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π config

---

## üü¢ –í—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏

-   `main.py` ‚Üí `engine_controller.run_trading_cycle()` ‚Üí `symbol_processor`
-   –í—Ö–æ–¥: `should_enter_trade` ‚Üí `enter_trade`
-   –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: `monitor_active_position`
-   –í—ã—Ö–æ–¥: `record_trade_result`, Telegram

---

## üü° –£–¥–∞–ª—ë–Ω–Ω—ã–µ / –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ

-   –í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã **–∞–∫—Ç—É–∞–ª—å–Ω—ã**, –º—ë—Ä—Ç–≤—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ **–Ω–µ—Ç**
-   `_min_step_hit_required` –≤ `monitor_active_position` ‚Äî –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

---

## üîö –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.
