—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–ª–µ—á–æ–º –∏ –≤—Ö–æ–¥–æ–º –≤ —Å–¥–µ–ª–∫–∏ –Ω–∞ Binance Futures (USDC-M)

1. –£—á–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫–æ–º–∏—Å—Å–∏–π Binance Futures USDC-M –∏ —Ä–∞—Å—á–µ—Ç —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏
   –ö–æ–º–∏—Å—Å–∏–∏. –ù–∞ —Ñ—å—é—á–µ—Ä—Å–∞—Ö Binance —Å –º–∞—Ä–∂–æ–π –≤ USDC —Å–µ–π—á–∞—Å –¥–µ–π—Å—Ç–≤—É—é—Ç –Ω—É–ª–µ–≤—ã–µ Maker-–∫–æ–º–∏—Å—Å–∏–∏ (0%) –∏ –æ—á–µ–Ω—å –Ω–∏–∑–∫–∏–µ Taker-–∫–æ–º–∏—Å—Å–∏–∏ (–ø–æ—Ä—è–¥–∫–∞ 0.01% –∑–∞ —Å–¥–µ–ª–∫—É)‚Äã
   binance.com
   ‚Äã
   binance.com
   . –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ (Maker) –≤—ã –∫–æ–º–∏—Å—Å–∏—é –Ω–µ –ø–ª–∞—Ç–∏—Ç–µ, –∞ –ø—Ä–∏ —Ä—ã–Ω–æ—á–Ω–æ–º –æ—Ä–¥–µ—Ä–µ (Taker) –∫–æ–º–∏—Å—Å–∏—è —Å–æ–≤—Å–µ–º –º–∞–ª–∞—è. –û–¥–Ω–∞–∫–æ –¥–∞–∂–µ —ç—Ç–∏ –Ω–µ–±–æ–ª—å—à–∏–µ –∏–∑–¥–µ—Ä–∂–∫–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä–∏–±—ã–ª–∏. –ö–æ–º–∏—Å—Å–∏—è –≤–∑–∏–º–∞–µ—Ç—Å—è –∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏, –∏ –ø—Ä–∏ –µ–µ –∑–∞–∫—Ä—ã—Ç–∏–∏, –ø–æ—ç—Ç–æ–º—É –æ–±—â–∏–π –∏–∑–¥–µ—Ä–∂–∫–∏ –Ω–∞ –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏–º–µ—Ä–Ω–æ —É–¥–≤–∞–∏–≤–∞—é—Ç—Å—è. –§–æ—Ä–º—É–ª–∞ –∫–æ–º–∏—Å—Å–∏–∏. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏ –∫–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ –∏ —Ü–µ–Ω—ã –Ω–∞ —Å—Ç–∞–≤–∫—É –∫–æ–º–∏—Å—Å–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä‚Äã
   binance.com
   :
   –ö–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ = (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ √ó —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞) √ó —Å—Ç–∞–≤–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏.
   –ö–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ = (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ √ó —Ü–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞) √ó —Å—Ç–∞–≤–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏.
   –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –ø–æ —Ä—ã–Ω–æ—á–Ω—ã–º —Ü–µ–Ω–∞–º, —Ç–æ –æ–±–µ —á–∞—Å—Ç–∏ –∫–æ–º–∏—Å—Å–∏–∏ –±—É–¥—É—Ç —Ä–∞–≤–Ω—ã –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ (—Å—Ç–∞–≤–∫–∞ —Ç–∞ –∂–µ 0.01% –¥–ª—è —Ç–µ–π–∫–µ—Ä–∞). –í –∏—Ç–æ–≥–µ –æ–±—â–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –∫—Ä—É–≥ (round-trip) –ø—Ä–∏–º–µ—Ä–Ω–æ:
   scss
   Copy
   –ö–æ–º–∏—Å—Å–∏—è*–æ–±—â–∞—è ‚âà 2 √ó (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ √ó —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ √ó —Å—Ç–∞–≤–∫–∞*–∫–æ–º–∏—Å—Å–∏–∏).
   –≠—Ç—É —Ñ–æ—Ä–º—É–ª—É –∏ –∑–∞–ª–æ–∂–∏–º –≤ —Ä–∞—Å—á–µ—Ç —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏. –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å = –≤–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å –æ—Ç –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã ‚Äì –∫–æ–º–∏—Å—Å–∏—è_–æ–±—â–∞—è. –î–∞–∂–µ –ø—Ä–∏ –º–∞–ª—ã—Ö –∫–æ–º–∏—Å—Å–∏—è—Ö –≤–∞–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –Ω–µ ¬´—Å—ä–µ–¥—è—Ç¬ª –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –∑–∞—Ä–∞–±–æ—Ç–∫–∞. –í –∫–æ–¥–µ –±–æ—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –≤—ã—á–∏—Ç–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –æ–∂–∏–¥–∞–µ–º–æ–π –ø—Ä–∏–±—ã–ª–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ–π–∫–µ—Ä-–∫–æ–º–∏—Å—Å–∏–∏ 0.01%: –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –æ–±—ä—ë–º–æ–º $100 –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤–∞–ª–æ–≤—É—é –ø—Ä–∏–±—ã–ª—å $1 (1%), —Ç–æ –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥+–≤—ã—Ö–æ–¥ —Å–æ—Å—Ç–∞–≤–∏—Ç ~$0.02 (0.02% –æ—Ç $100)‚Äã
   binance.com
   . –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –±—É–¥–µ—Ç ~$0.98. –•–æ—Ç—è —ç—Ç–∞ –∫–æ–º–∏—Å—Å–∏—è –Ω–µ–≤–µ–ª–∏–∫–∞, –ø—Ä–∏ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–æ—Ñ–∏—Ç–∞—Ö –µ—é –Ω–µ–ª—å–∑—è –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–∞—Ç—å ‚Äì –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –º–∞–ª—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–∞—Ö, –≥–¥–µ –ø—Ä–∏–±—ã–ª—å —Å –æ–¥–Ω–æ–π —Å–¥–µ–ª–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–Ω—Ç–æ–≤.
2. –ì—Ä–∞–¥–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞
   –ß—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–º –±–∞–ª–∞–Ω—Å–µ, –≤–≤–æ–¥–∏—Ç—Å—è –≥—Ä–∞–¥–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–ª–∏ –ø–æ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–µ–ø–æ–∑–∏—Ç–∞:
   –î–µ–ø–æ–∑–∏—Ç –¥–æ $50 USDC ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å —Å —Å–¥–µ–ª–∫–∏: $0.3.
   –î–µ–ø–æ–∑–∏—Ç –¥–æ $100 USDC ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å: $0.5.
   –î–µ–ø–æ–∑–∏—Ç –¥–æ $500 USDC ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å: $1.
   –î–µ–ø–æ–∑–∏—Ç –≤—ã—à–µ $500 USDC ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å: $2.
   –≠—Ç–æ—Ç –ø–æ—Ä–æ–≥ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –±—É–¥–µ—Ç –Ω–∞—Ü–µ–ª–µ–Ω–∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–¥–µ–ª–∫–∏ —Å –æ–∂–∏–¥–∞–µ–º–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª—å—é –Ω–∏–∂–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ? –ù–∞ –º–∞–ª—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–∞—Ö –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö —Å–æ–≤—Å–µ–º –Ω–µ–≤–µ–ª–∏–∫–∞, –∏ –µ–µ –º–æ–∂–µ—Ç —Å—ä–µ—Å—Ç—å –∫–æ–º–∏—Å—Å–∏—è –∏–ª–∏ —Ä—ã–Ω–æ—á–Ω—ã–π —à—É–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –¥–µ–ø–æ–∑–∏—Ç–µ $30 —Å–¥–µ–ª–∫–∞ —Å –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é 1% –¥–∞—Å—Ç –≤—Å–µ–≥–æ ~$0.30 –≤–∞–ª–æ–≤–æ–π –ø—Ä–∏–±—ã–ª–∏ ‚Äì –ø–æ—Å–ª–µ —É–ø–ª–∞—Ç—ã –∫–æ–º–∏—Å—Å–∏–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è ~$0.25, —á—Ç–æ –º–µ–Ω—å—à–µ —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞ $0.3. –ü–æ—ç—Ç–æ–º—É –±–æ—Ç –ª–∏–±–æ –Ω–µ –≤–æ–π–¥–µ—Ç –≤ —Ç–∞–∫—É—é —Å–¥–µ–ª–∫—É, –ª–∏–±–æ –ø–æ—Å—Ç–∞—Ä–∞–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –µ—ë –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—É—Ç—å –ø–æ–≤—ã—Å–∏–≤ —Ü–µ–ª–µ–≤–æ–π –ø—Ä–æ—Ñ–∏—Ç –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∏–ª–∏ –æ–±—ä–µ–º –ø–æ–∑–∏—Ü–∏–∏) —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –Ω–∞ –º–∏–Ω–∏–º—É–º $0.3 —á–∏—Å—Ç—ã–º–∏. –° —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –¥–µ–ø–æ–∑–∏—Ç–∞ –ø–æ—Ä–æ–≥ —Ä–∞—Å—Ç–µ—Ç, –Ω–æ –Ω–µ –ª–∏–Ω–µ–π–Ω–æ ‚Äì —Ü–µ–ª—å—é —è–≤–ª—è–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—â—É—Ç–∏–º—É—é –ø—Ä–∏–±—ã–ª—å, –Ω–æ –Ω–µ –∑–∞–≤—ã—à–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è. –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤ (>$500) $2 ‚Äì —ç—Ç–æ –æ—á–µ–Ω—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –º–∏–Ω–∏–º—É–º (–º–µ–Ω–µ–µ 0.5%), –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥–æ–π –ø—Ä–∏–±—ã–ª—å–Ω–æ–π —Å–¥–µ–ª–∫–æ–π, –ø–æ—ç—Ç–æ–º—É –ø–æ—Ä–æ–≥ –≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è –º–µ–ª–∫–∏—Ö —Å—á–µ—Ç–æ–≤.
   –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å –≤—Ä–æ–¥–µ MIN_NET_PROFIT = {50: 0.3, 100: 0.5, 500: 1.0, 'max': 2.0} –∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞ –ø–æ —Ç–µ–∫—É—â–µ–º—É –±–∞–ª–∞–Ω—Å—É. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º, –µ—Å–ª–∏ –∫–æ–º–∏—Å—Å–∏–∏ Binance –∏–∑–º–µ–Ω—è—Ç—Å—è –∏–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è, —ç—Ç–∏ –ø–æ—Ä–æ–≥–∏ –º–æ–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å.
3. –õ–æ–≥–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–ª–µ–π Take-Profit (TP1 –∏ TP2)
   –°—Ç—Ä–∞—Ç–µ–≥–∏—è –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —É—Ä–æ–≤–Ω—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (TP1 –∏ TP2), —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏ –∏ –¥–∞—Ç—å –æ—Å—Ç–∞–≤—à–µ–π—Å—è –ø–æ–∑–∏—Ü–∏–∏ ¬´–ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å¬ª –¥–∞–ª—å—à–µ. –¢–∞–∫–æ–µ —á–∞—Å—Ç–∏—á–Ω–æ–µ –≤–∑—è—Ç–∏–µ –ø—Ä–∏–±—ã–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞: —Ñ–∏–∫—Å–∏—Ä—É—è —á–∞—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ TP1 –∏ –ø–µ—Ä–µ–¥–≤–∏–≥–∞—è —Å—Ç–æ–ø-–ª–æ—Å—Å –≤ –±–µ–∑—É–±—ã—Ç–æ–∫, —Ç—Ä–µ–π–¥–µ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ –æ—Å—Ç–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –¥–µ—Ä–∂–∏—Ç –Ω–∞ –±–æ–ª–µ–µ –¥–∞–ª—å–Ω—é—é —Ü–µ–ª—å‚Äã
   binance.com
   . –í –Ω–∞—à–µ–º –±–æ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞: –Ω–∞ TP1 –ø—Ä–æ–¥–∞–µ—Ç—Å—è 70% –ø–æ–∑–∏—Ü–∏–∏, –Ω–∞ TP2 ‚Äì –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 30% (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ TP1*SHARE –∏ TP2_SHARE). –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ TP. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏: TP1_PERCENT = 0.007 (0.7% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞) –∏ TP2_PERCENT = 0.013 (1.3% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞). –≠—Ç–æ –æ–∑–Ω–∞—á–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ª–æ–Ω–≥–∞:
   TP1 = —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞ * 1.007 (—Ç–æ –µ—Å—Ç—å +0.7%),
   TP2 = —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞ _ 1.013 (+1.3%).
   –î–ª—è —à–æ—Ä—Ç–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –≤–Ω–∏–∑ –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ (‚Äì0.7% –∏ ‚Äì1.3% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ). Stop-loss (SL) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ 1% –æ—Ç —Ü–µ–Ω—ã –ø—Ä–æ—Ç–∏–≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏ (SL_PERCENT = 0.01), —Ç–æ –µ—Å—Ç—å —É–±—ã—Ç–æ–∫ –≤ —Å–ª—É—á–∞–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è SL ~1% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —É—Å–ª–æ–≤–∏—è–º —Ä—ã–Ω–∫–∞. –ë–æ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —ç—Ç–∏ —É—Ä–æ–≤–Ω–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞. –ï—Å–ª–∏ —Ä—ã–Ω–æ–∫ —Ñ–ª–µ—Ç–æ–≤—ã–π (–Ω–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å), –±–æ—Ç —É–º–µ–Ω—å—à–∞–µ—Ç —Ü–µ–ª–∏ TP –∏ —Å—É–∂–∞–µ—Ç —Å—Ç–æ–ø (–º–Ω–æ–∂–∏—Ç–µ–ª—å FLAT_ADJUSTMENT = 0.7 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –¢–æ –µ—Å—Ç—å –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ä—ã–Ω–∫–µ TP1 –º–æ–∂–µ—Ç –±—ã—Ç—å ~0.5% –≤–º–µ—Å—Ç–æ 0.7%, –∞ TP2 ~0.9% –≤–º–µ—Å—Ç–æ 1.3%. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —à–∞–Ω—Å, —á—Ç–æ —Ü–µ–ª–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã –¥–∞–∂–µ –ø—Ä–∏ —Å–ª–∞–±–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏. –ï—Å–ª–∏ –∂–µ —Ä—ã–Ω–æ–∫ —Ç—Ä–µ–Ω–¥–æ–≤—ã–π, –±–æ—Ç –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å TP2 (–Ω–∞–ø—Ä. —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ TREND_ADJUSTMENT = 1.3, —Ç.–µ. TP2 ~1.69% –≤–º–µ—Å—Ç–æ 1.3%) ‚Äì —á—Ç–æ–±—ã –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –≤–∑—è—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏ –ø–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –≤ —Å–∏–ª—å–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏. –°—Ç–æ–ø-–ª–æ—Å—Å –ø—Ä–∏ —Ç—Ä–µ–Ω–¥–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Ç–æ–∂–µ —á—É—Ç—å —Ä–∞–∑–¥–≤–∏–≥–∞–µ—Ç—Å—è (—á—Ç–æ–±—ã –Ω–µ –≤—ã–±–∏–ª–æ –ø–æ –º–µ–ª–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏). –≠—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ñ–ª–∞–≥–æ–º AUTO_TP_SL_ENABLED –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ get_market_regime(). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, TP1/TP2 –≥–∏–±–∫–æ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è: –≤ —É–∑–∫–æ–º —Ä—ã–Ω–∫–µ —Ü–µ–ª–∏ –±–ª–∏–∂–µ, –≤ —Ç—Ä–µ–Ω–¥–µ ‚Äì –¥–∞–ª—å—à–µ. –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ TP1/TP2 –∏ –ø—Ä–∏–±—ã–ª–∏. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –¥–µ–ø–æ–∑–∏—Ç–∞ $80 USDC (–ø–æ—Ä–æ–≥ min —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ $0.5) –≤ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö —Ä—ã–Ω–∫–∞ (–±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ flat/trend):
   –í—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é: –ü—É—Å—Ç—å –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É (–ª–æ–Ω–≥) –ø–æ —Ü–µ–Ω–µ $100 (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ —Ü–µ–Ω–∞ –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞ –≤ –ø–∞—Ä–µ
   ùê∂
   ùëÇ
   ùêº
   ùëÅ
   COIN/USDC). –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å $80, –ø–æ—ç—Ç–æ–º—É –±–æ—Ç –æ—Ç–Ω–µ—Å–µ—Ç –µ–≥–æ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äú–¥–æ $100‚Äù. –°–æ–≥–ª–∞—Å–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–∏—Å–∫–∞–º–∏, –¥–ª—è –±–∞–ª–∞–Ω—Å–æ–≤ < $100 –±–µ—Ä–µ–º —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É 3% –æ—Ç –¥–µ–ø–æ (—Ñ—É–Ω–∫—Ü–∏—è get_adaptive_risk_percent –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.03) ‚Äì —ç—Ç–æ $2.4. –°—Ç–æ–ø-–ª–æ—Å—Å 1% –≤–Ω–∏–∑ –æ—Ç $100 ‚Äì —Ç–æ –µ—Å—Ç—å –Ω–∞ $99.00. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞ 1 –µ–¥–∏–Ω–∏—Ü–µ –∞–∫—Ç–∏–≤–∞ —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä—è—Ç—å $1 (—Å $100 –¥–æ $99). –ß—Ç–æ–±—ã —Ä–∏—Å–∫ –≤ $2.4 —Å–æ–±–ª—é–¥–∞–ª—Å—è, –±–æ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤: qty = risk_amount / (entry_price _ SL*PERCENT). –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ qty = 2.4 / (100 * 0.01) = 2.4 / 1 = 2.4 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. (–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –Ω–æ–º–∏–Ω–∞–ª –ø–æ–∑–∏—Ü–∏–∏ $100 _ 2.4 = $240, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ 3√ó —Ä–∞–∑–º–µ—Ä—É –¥–µ–ø–æ–∑–∏—Ç–∞ ‚Äì –∑–∞–¥–µ–π—Å—Ç–≤—É–µ–º –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –ø–ª–µ—á–æ 3x –Ω–∞ —ç—Ç—É —Å–¥–µ–ª–∫—É.) –≠—Ç–∞ —Ä–∞—Å—á—ë—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –º–æ–¥—É–ª—å order_utils.py (—Å–º. –Ω–∏–∂–µ). –ë–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –æ–±—ä—ë–º–æ–º 2.4 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø–æ $100.
   –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–µ–π: –†–∞—Å—Å—á–∏—Ç–∞–µ–º TP1 –∏ TP2 –ø–æ –±–∞–∑–æ–≤—ã–º –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º:
   TP1 —Ü–µ–Ω–∞ = $100 _ 1.007 = $100.70.
   TP2 —Ü–µ–Ω–∞ = $100 _ 1.013 = $101.30.
   –ë–æ—Ç –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É: –Ω–∞ 1.68 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø–æ $100.70 (—ç—Ç–æ 70% –æ—Ç 2.4) –∏ –Ω–∞ 0.72 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø–æ $101.30 (30% –æ—Ç –ø–æ–∑–∏—Ü–∏–∏), —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reduceOnly=True (—á—Ç–æ–±—ã –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ–∑–∏—Ü–∏—é, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—è –Ω–æ–≤—É—é). –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—Ç–∞–≤–∏—Ç—Å—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä (STOP_MARKET) –Ω–∞ –≤—Å—é –ø–æ–∑–∏—Ü–∏—é 2.4 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø–æ —Ü–µ–Ω–µ $99.00.
   –§–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ TP1: –ï—Å–ª–∏ —Ü–µ–Ω–∞ –≤—ã—Ä–∞—Å—Ç–µ—Ç –¥–æ $100.70, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç: –ø—Ä–æ–¥–∞—Å—Ç—Å—è 1.68 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤. –ü—Ä–∏–±—ã–ª—å –Ω–∞ TP1 —Å–æ—Å—Ç–∞–≤–∏—Ç 0.7% –æ—Ç —Ü–µ–Ω—ã –Ω–∞ —ç—Ç—É –∑–∞–∫—Ä—ã—Ç—É—é —á–∞—Å—Ç—å. –í –¥–æ–ª–ª–∞—Ä–∞—Ö —ç—Ç–æ: 1.68 √ó ($100.70 ‚Äì $100.00) = $1.176. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –±–æ—Ç–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è 0.72 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ –ª–æ–Ω–≥–µ.
   –î–≤–∏–∂–µ–Ω–∏–µ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –≤ –±–µ–∑—É–±—ã—Ç–æ–∫: –ë–ª–∞–≥–æ–¥–∞—Ä—è –º–æ–¥—É–ª—é break-even (ENABLE_BREAKEVEN=True), –ø–æ—Å–ª–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è TP1 –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–Ω–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Å—Ç–∞–≤—à–µ–π—Å—è –ø–æ–∑–∏—Ü–∏–∏ –∫ —Ü–µ–Ω–µ –≤—Ö–æ–¥–∞ ($100). –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 0.72 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —É–∂–µ –Ω–µ —É–π–¥—É—Ç –≤ —É–±—ã—Ç–æ–∫ ‚Äì —Ö—É–¥—à–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π, —á—Ç–æ –æ—Å—Ç–∞—Ç–æ–∫ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –ø–æ –±–µ–∑—É–±—ã—Ç–∫—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Å–ª–µ TP1 –ø—Ä–∏–±—ã–ª—å $1.176 —É–∂–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∏ –¥–∞–ª—å—à–µ –ø–æ–∑–∏—Ü–∏—è –ª–∏–±–æ –¥–∞—Å—Ç –µ—â—ë –ø—Ä–∏–±—ã–ª—å –Ω–∞ TP2, –ª–∏–±–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –ø–æ –Ω—É–ª—é (–∏–ª–∏ –ø–æ —Ç—Ä–µ–π–ª–∏–Ω–≥-—Å—Ç–æ–ø—É, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω ENABLE_TRAILING). –≠—Ç–æ—Ç –ø—Ä–∏–µ–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç, —á—Ç–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å ($0.5 –¥–ª—è –¥–µ–ø–æ $80) —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è‚Äã
   binance.com
   .
   –§–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ TP2: –ï—Å–ª–∏ —Ä—ã–Ω–æ–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞—Å—Ç–∏ –¥–æ $101.30, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Ç–æ—Ä–æ–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –Ω–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 0.72 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –ü—Ä–∏–±—ã–ª—å –Ω–∞ TP2 —Å–æ—Å—Ç–∞–≤–∏—Ç 1.3% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –Ω–∞ —ç—Ç—É —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏: 0.72 √ó ($101.30 ‚Äì $100.00) = $0.936.
   –ò—Ç–æ–≥ –ø–æ —Å–¥–µ–ª–∫–µ: –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å —Å—É–º–º–∞—Ä–Ω–æ = $1.176 + $0.936 = $2.112. –¢–µ–ø–µ—Ä—å –≤—ã—á—Ç–µ–º –∫–æ–º–∏—Å—Å–∏–∏. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–ª –ø–æ–∑–∏—Ü–∏—é –º–∞—Ä–∫–µ—Ç-–æ—Ä–¥–µ—Ä–æ–º (taker) –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã —Å—Ä–∞–±–æ—Ç–∞–ª–∏ –ª–∏–º–∏—Ç–Ω—ã–º–∏ –æ—Ä–¥–µ—Ä–∞–º–∏ (maker). –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –±—ã –∏ TP –∏—Å–ø–æ–ª–Ω–∏–ª–∏—Å—å –∫–∞–∫ —Ä—ã–Ω–æ—á–Ω—ã–µ, –∫–æ–º–∏—Å—Å–∏—è –±—ã–ª–∞ –±—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π. –ü–æ—Å—á–∏—Ç–∞–µ–º –ø–æ –º–∞–∫—Å–∏–º—É–º—É (–¥–≤–æ–π–Ω–∞—è —Ç–µ–π–∫–µ—Ä-–∫–æ–º–∏—Å—Å–∏—è 0.01%):
   –ö–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ: 2.4 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ _ $100 \* 0.01% = $0.024.
   –ö–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ (TP1+TP2 —Å—É–º–º–∞—Ä–Ω–æ —Ç–æ—Ç –∂–µ –æ–±—ä—ë–º 2.4 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞): ‚âà $0.024 (–ø–æ—á—Ç–∏ —Ç–æ –∂–µ, —Ç–∞–∫ –∫–∞–∫ —Ü–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞ ~ —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞).
   –ò—Ç–æ–≥–æ –∫–æ–º–∏—Å—Å–∏—è ‚âà $0.048.
   –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ‚âà $2.112 ‚Äì $0.048 = $2.064. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ $0.5 –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞, —Ç.–µ. –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω —Å –∑–∞–ø–∞—Å–æ–º. –î–∞–∂–µ –µ—Å–ª–∏ –±—ã —Ç–æ–ª—å–∫–æ TP1 –¥–æ—Å—Ç–∏–≥—Å—è, –º—ã –±—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ ~$1.17 –º–∏–Ω—É—Å –∫–æ–º–∏—Å—Å–∏—é ~$0.03, —á–∏—Å—Ç–æ ~$1.14, —á—Ç–æ —Ç–æ–∂–µ –≤—ã—à–µ $0.5. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–∏—Å—Ç–µ–º–µ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é —Ä–∏—Å–∫–∞ 1% –Ω–∞ —Å—Ç–æ–ø, –¥–∞–∂–µ –Ω–∞ —Å—á–µ—Ç–µ <$100 —Å–¥–µ–ª–∫–∞ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ.
   –£—á—ë—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏. –í —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ —Å–æ–≤—Å–µ–º –∫—Ä–æ—Ö–æ—Ç–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç) —Ä–∞—Å—á–µ—Ç–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–∏–∂–µ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞. –¢–æ–≥–¥–∞ –±–æ—Ç –ª–∏–±–æ –Ω–µ –±—É–¥–µ—Ç –≤—Ö–æ–¥–∏—Ç—å –≤ —Ç–∞–∫—É—é —Å–¥–µ–ª–∫—É, –ª–∏–±–æ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ) –º–æ–∂–µ—Ç —Å–ª–µ–≥–∫–∞ —É–≤–µ–ª–∏—á–∏—Ç—å —Ü–µ–ª–∏ TP –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∏–ª–∏ –æ–±—ä–µ–º –ø–æ–∑–∏—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–≥ –±—ã –ø–æ–¥–Ω—è—Ç—å TP1/TP2 –Ω–∞ –ø–∞—Ä—É –¥–µ—Å—è—Ç—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –¥–æ—Ç—è–Ω—É—Ç—å –æ–∂–∏–¥–∞–µ–º—É—é –ø—Ä–∏–±—ã–ª—å –¥–æ –ø–æ—Ä–æ–≥–∞. –ù–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –ø—Ä–æ—Å—Ç–æ –∏–∑–±–µ–≥–∞—Ç—å –Ω–µ–≤—ã–≥–æ–¥–Ω—ã—Ö —Å–¥–µ–ª–æ–∫: —Ñ–∏–ª—å—Ç—Ä MIN_NOTIONAL = 5 —É–∂–µ –Ω–µ –¥–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–æ–≤—Å–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–∑–∏—Ü–∏–∏. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ ‚Äúdefault_light‚Äù –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ < $100 (—Å–º. FILTER_THRESHOLDS –≤ –∫–æ–Ω—Ñ–∏–≥–µ) —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –ø–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤, —á—Ç–æ–±—ã –∫–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞ –±—ã–ª–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –Ω–µ –Ω–∏–∂–µ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–ª–∞–Ω–∫–∏ –¥–ª—è –ª—é–±–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞.
4. –í—ã–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π order_utils.py –∏ tp_utils.py
   –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–≤—ã—Å–∏—Ç —è—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∫–æ–¥–∞. –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç—ã –æ–±—ä–µ–º–∞ –æ—Ä–¥–µ—Ä–∞ –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–≤ –≤ —É—Ç–∏–ª–∏—Ç–Ω—ã–µ –º–æ–¥—É–ª–∏:
   order_utils.py ‚Äì —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤) –∏ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å —ç—Ç–∏–º –ª–æ–≥–∏–∫–∞.
   tp_utils.py ‚Äì —Ä–∞—Å—á–µ—Ç —Ü–µ–ª–µ–π TP1, TP2 (–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏ —É—Ä–æ–≤–Ω–µ–π —Å—Ç–æ–ø-–ª–æ—Å—Å–∞) –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
   –ü—Ä–∏—á–∏–Ω—ã –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è:
   –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–¥–∞. –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –æ–±—ä–µ–º–∞ –æ—Ä–¥–µ—Ä–∞ –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–≤ –¥–æ–≤–æ–ª—å–Ω–æ –æ–±—à–∏—Ä–Ω–∞ (—É—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞, —Ä–∏—Å–∫–∞, –ø–ª–µ—á–∞, –¥–æ–ª–µ–π TP, —Ä–µ–∂–∏–º–æ–≤ —Ä—ã–Ω–∫–∞ –∏ —Ç.–¥.). –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –µ—ë –≤–Ω—É—Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–≤–∏–∂–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏, —Ñ–∞–π–ª trade_engine.py –∏–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–ª—É—á–∏—Ç—Å—è –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ–π –¥–µ—Ç–∞–ª—è–º–∏. –í—ã–¥–µ–ª–∏–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã, –º—ã –ø–æ–ª—É—á–∏–º –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥, –∞ –¥–µ—Ç–∞–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ–º –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö. –≠—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç, —á—Ç–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, qty = calculate_order_quantity(...) ‚Äì –∏ –º–æ–∂–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ order_utils.py.
   –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –í—ã–Ω–µ—Å–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –æ–±—ä–µ–º–∞ –æ—Ä–¥–µ—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—Å–∏–º—É–ª—è—Ü–∏–∏) –∏–ª–∏ –≤ –±—É–¥—É—â–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö. –ò—Ö –ø—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ (unit tests), –ø–æ–¥–∫–ª–∞–¥—ã–≤–∞—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–±–∞–ª–∞–Ω—Å, —Ü–µ–Ω–∞, —Ä–∏—Å–∫) –∏ –ø—Ä–æ–≤–µ—Ä—è—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –º–µ–Ω—å—à–µ —à–∞–Ω—Å –¥–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω.
   –ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ö–æ–≥–¥–∞ —É—Å–ª–æ–≤–∏—è —Ä—ã–Ω–∫–∞ –º–µ–Ω—è—é—Ç—Å—è –∏–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –±—ã–≤–∞–µ—Ç –Ω—É–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —Å–∫–∞–∂–µ–º, —Ñ–æ—Ä–º—É–ª—É —Ä–∞—Å—á–µ—Ç–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞. –í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è –≤ tp_utils.py —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª–∏—Ç —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –±—ã—Å—Ç—Ä–æ, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π TP (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å, –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å) –∏ –≤—ã–±–∏—Ä–∞—Ç—å –∏—Ö. –ò–ª–∏ –∂–µ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —É—á–µ—Ç –ø–æ—Ä–æ–≥–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ TP ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–≤—ã—à–∞—Ç—å TP2, –µ—Å–ª–∏ —Ä–∞—Å—á–µ—Ç–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –≤—ã—Ö–æ–¥–∏—Ç –Ω–∏–∂–µ —Ç—Ä–µ–±—É–µ–º–æ–π.
   –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ order_utils.calculate_order_quantity:
   python
   Copy

# order_utils.py

def calculate*order_quantity(entry_price: float, balance: float, risk_ratio: float = 0.01) -> float:
"""–í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞."""
notional = balance * risk*ratio # –¥–æ–ª—è –¥–µ–ø–æ–∑–∏—Ç–∞, –∫–æ—Ç–æ—Ä—É—é –≥–æ—Ç–æ–≤—ã —Ä–∏—Å–∫–Ω—É—Ç—å
qty = notional / entry_price # —Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ —ç—Ç—É —Å—É–º–º—É –ø–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
return round(qty, 3)
–≠—Ç–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–±—ä–µ–º –ø–æ–∑–∏—Ü–∏–∏ –∏—Å—Ö–æ–¥—è –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Ä–∏—Å–∫–∞ –∫ –±–∞–ª–∞–Ω—Å—É. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é risk_ratio=0.01 (1% –æ—Ç –±–∞–ª–∞–Ω—Å–∞). –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —É –Ω–∞—Å —Ä–∏—Å–∫ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–∞–ª–∞–Ω—Å–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (0.03, 0.05, 0.07), –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞—Ç—å –µ–µ —Å—Ç–æ–∏—Ç –∫–∞–∫:
python
Copy
risk_pct = get_adaptive_risk_percent(balance) # –ø–æ–ª—É—á–∞–µ–º 0.03, 0.05 –∏–ª–∏ 0.07 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –±–∞–ª–∞–Ω—Å–∞
quantity = calculate_order_quantity(entry_price, balance, risk_pct)
–î–∞–ª–µ–µ, –≤–æ–∑–º–æ–∂–Ω–æ, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –æ–Ω–∞ —É—á–∏—Ç—ã–≤–∞–ª–∞ –µ—â–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –¥–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞. –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –º—ã –≥—Ä—É–±–æ —Å—á–∏—Ç–∞–µ–º —Ä–∏—Å–∫ –∫–∞–∫ % –æ—Ç –±–∞–ª–∞–Ω—Å–∞, –Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É = %–æ—Ç –¥–µ–ø–æ, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ–º —Å—Ç–æ–ø-–ª–æ—Å—Å–µ. –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∞–∫:
python
Copy
def calculate_order_quantity(entry_price: float, stop_price: float, balance: float, risk_percent: float) -> float:
risk_amount = balance * risk_percent
risk_per_contract = abs(entry_price - stop_price)
qty = risk_amount / risk_per_contract
return round(qty, 3)
–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –Ω–∞–ø—Ä—è–º—É—é —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ñ–æ—Ä–º—É–ª—É: –æ–±—ä–µ–º = —Ä–∏—Å–∫ –≤ $ / —Ä–∏—Å–∫ –Ω–∞ 1 –∫–æ–Ω—Ç—Ä–∞–∫—Ç. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —è–¥—Ä–∞ (trade_engine.calculate_position_size), –∏ –µ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ order_utils –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ tp_utils.calculate_tp_levels:
python
Copy

# tp_utils.py

from config import TP1*PERCENT, TP2_PERCENT, SL_PERCENT, TP1_SHARE, TP2_SHARE
def calculate_tp_levels(entry_price: float, side: str, regime: str = None):
"""–í—ã—á–∏—Å–ª–∏—Ç—å —Ü–µ–Ω—ã TP1 –∏ TP2 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞, —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ä–µ–∂–∏–º–∞ —Ä—ã–Ω–∫–∞.""" # 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
tp1_pct = TP1_PERCENT
tp2_pct = TP2_PERCENT
sl_pct = SL_PERCENT # 2. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–¥ —Ä—ã–Ω–æ–∫
if regime == "flat":
tp1_pct *= 0.7
tp2*pct *= 0.7
sl*pct *= 0.7
elif regime == "trend":
tp2*pct *= 1.3
sl*pct *= 1.3 # (–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É—á–µ—Å—Ç—å score, –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ, –∑–¥–µ—Å—å –æ–ø—É—â–µ–Ω–æ) # 3. –†–∞—Å—Å—á–µ—Ç —Ü–µ–Ω —É—Ä–æ–≤–Ω–µ–π
if side.lower() == "buy":
tp1*price = entry_price * (1 + tp1*pct)
tp2_price = entry_price * (1 + tp2*pct) if tp2_pct else None
sl_price = entry_price * (1 - sl*pct)
else: # side == "sell"
tp1_price = entry_price * (1 - tp1*pct)
tp2_price = entry_price * (1 - tp2_pct) if tp2_pct else None
sl_price = entry_price \* (1 + sl_pct)
return round(tp1_price, 4), round(tp2_price, 4) if tp2_price else None, round(sl_price, 4)
–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ TP1, TP2 –∏ SL. –ú—ã –º–æ–∂–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –µ–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–¥–µ–ª–∫–∏:
python
Copy
tp1, tp2, sl = calculate_tp_levels(entry_price, side, regime)
–î–∞–ª–µ–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤. –õ–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–¥–µ—Å—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ç–æ, —á—Ç–æ —Ä–∞–Ω–µ–µ –±—ã–ª–æ ¬´–∑–∞—à–∏—Ç–æ¬ª –≤ trade_engine ‚Äì —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ –≤ —É—Ç–∏–ª–∏—Ç–µ –∏ –µ–µ –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—É—é –ø—Ä–∏–±—ã–ª—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π ($) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á–∏—Ç—å tp2_pct. –¢–∞–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: –≤—ã—á–∏—Å–ª–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—É—é —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å (–ø–æ —Ñ–æ—Ä–º—É–ª–µ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ) –∏ –µ—Å–ª–∏ –æ–Ω–∞ < —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞ ‚Äì –∑–∞–¥–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è –¥–ª—è TP. –ò—Ç–∞–∫, –≤—ã–¥–µ–ª–µ–Ω–∏–µ order_utils –∏ tp_utils –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ, –æ–±–ª–µ–≥—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —É—Å–ª–æ–≤–∏—è. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–Ω–µ—Å—Ç–∏ —Ç–µ–∫—É—â–∏–µ —Ä–∞—Å—á–µ—Ç—ã –∏–∑ trade_engine.py –≤ —ç—Ç–∏ –º–æ–¥—É–ª–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –∏–º–ø–æ—Ä—Ç –≤ –Ω—É–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (–ø—Ä–æ—Ü–µ–Ω—Ç—ã TP, —Ä–∏—Å–∫ –∏ —Ç.–ø.) –±—É–¥—É—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –ª–µ–∂–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏ —É—Ç–∏–ª–∏—Ç–∞—Ö, –∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å—Ç–∞–Ω–µ—Ç –ø—Ä–æ—â–µ –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è. 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ—á–æ–º: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–µ—á–∞. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ –∑–∞–¥–∞–Ω —Å–ª–æ–≤–∞—Ä—å LEVERAGE_MAP, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∂–µ–ª–∞–µ–º–æ–µ –ø–ª–µ—á–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–ø–∞—Ä—ã). –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è BTC/USDC —É–∫–∞–∑–∞–Ω–æ 5, –¥–ª—è –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ —Ç–∏–ø–∞ DOGE/USDC ‚Äì 10. –û–¥–Ω–∞–∫–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–ª–µ—á–æ –Ω–∞ –±–∏—Ä–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –Ω–µ –≤—ã–∑–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ API, Binance –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø–ª–µ—á–æ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, 20x). –°–µ–π—á–∞—Å –±–æ—Ç, —Å—É–¥—è –ø–æ –∫–æ–¥—É, —è–≤–Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–µ—á–∞ ‚Äì —Ç–æ –µ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã –≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ –ø–ª–µ—á–æ –Ω–∞ –±–∏—Ä–∂–µ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –∏–ª–∏ –ø–æ–ª–∞–≥–∞–µ—Ç–µ—Å—å –Ω–∞ –¥–µ—Ñ–æ–ª—Ç. –≠—Ç–æ –º–µ—Å—Ç–æ —Å—Ç–æ–∏—Ç —É–ª—É—á—à–∏—Ç—å. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞. –ë–ª–∞–≥–æ, CCXT (–∏ –Ω–∞–ø—Ä—è–º—É—é Binance API) –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –ø–ª–µ—á–æ. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–æ—Ä–≥–æ–≤–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –∏–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–∞—Ä—ã) –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ exchange.set_leverage(leverage, symbol). –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—Å—Ç –Ω—É–∂–Ω–æ–µ –ø–ª–µ—á–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Binance. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–µ—á–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏—Ä–∂–∏ –∏ –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä:
python
Copy

# –ü–æ—Å–ª–µ exchange = ccxt.binance(...), –∏ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ symbols:

for symbol in SYMBOLS*ACTIVE:
lev = LEVERAGE_MAP.get(symbol, 5) # –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ
exchange.set_leverage(lev, symbol)
–ö–∞–∫ –æ—Ç–º–µ—á–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–µ—á–∞ –ª—É—á—à–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤‚Äã
stmoonar.xlog.page
. –ú–µ—Ç–æ–¥ set_leverage –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∂–µ–ª–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–∏–º–≤–æ–ª. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Binance –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –º–∞—Ä–∂—É –∏—Å—Ö–æ–¥—è –∏–∑ —ç—Ç–æ–≥–æ –ø–ª–µ—á–∞, –∏ –≤—ã –Ω–µ –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É –∏–∑-–∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å BTC/USDC –ø–ª–µ—á–æ–º 5x, –∞ –±–æ—Ç –ø–æ–ø—Ä–æ–±—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –±–∏—Ä–∂–∞ –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç (–∏–ª–∏ —Å—Ä–∞–∑—É —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –º–∞—Ä–∂–∏ –Ω—É–∂–Ω–æ). –ë–µ–∑ —ç—Ç–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–≥–ª–∞ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Å–∏—Ç—É–∞—Ü–∏—è, —á—Ç–æ –±–æ—Ç (–æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ risk %) –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é $7000 –Ω–∞ –±–∞–ª–∞–Ω—Å–µ $1000 (—á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç ~7x), –∞ –≤—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏ –º–∞–∫—Å–∏–º—É–º 5x ‚Äì –µ—Å–ª–∏ –ø–ª–µ—á–æ –Ω–∞ Binance –≤—Å–µ –µ—â–µ 5x, –æ—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω–∏—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –º–∞—Ä–∂–∏. –ò–ª–∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è: –≤—ã –¥—É–º–∞–µ—Ç–µ, —á—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–ª–∏ —Ä–∏—Å–∫ 5x, –∞ –Ω–∞ –¥–µ–ª–µ –±–∏—Ä–∂–∞ –≤—Å–µ –µ—â–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç 20x –∏ –±–æ—Ç –º–æ–≥ –±—ã –∑–∞–Ω—è—Ç—å –±–æ–ª—å—à–µ. –ü–æ—ç—Ç–æ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–ª–µ—á–∞ —á–µ—Ä–µ–∑ API ‚Äì –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫. Cross vs Isolated. –ï—â–µ –æ–¥–∏–Ω –∞—Å–ø–µ–∫—Ç ‚Äì —Ä–µ–∂–∏–º –º–∞—Ä–∂–∏: –∫—Ä–æ—Å—Å –∏–ª–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Cross (–æ–±—â–∞—è –º–∞—Ä–∂–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –ø—É–ª –º–∞—Ä–∂–∏ (–≤–∞—à –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å USDC), –∏ –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø–æ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –≤–µ—Å—å —Å—á–µ—Ç. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ Cross ‚Äì –≥–∏–±–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤: —Å–≤–æ–±–æ–¥–Ω–∞—è –º–∞—Ä–∂–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, —Å–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å –±–∞–ª–∞–Ω—Å). –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ ‚Äì –≤—ã—Å–æ–∫–∞—è –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –ø–æ–∑–∏—Ü–∏–π: –æ–¥–Ω–∞ –±–æ–ª—å—à–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ –º–æ–∂–µ—Ç —Å—ä–µ—Å—Ç—å –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π. Isolated —Ä–µ–∂–∏–º –Ω–∞–æ–±–æ—Ä–æ—Ç –≤—ã–¥–µ–ª—è–µ—Ç –º–∞—Ä–∂—É –Ω–∞ –∫–∞–∂–¥—É—é —Å–¥–µ–ª–∫—É –æ—Ç–¥–µ–ª—å–Ω–æ, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —É–±—ã—Ç–æ–∫ —ç—Ç–æ–π —Å—É–º–º–æ–π. Binance –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–µ—Ä–∂–∏—Ç Cross, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–µ–∂–∏–º —á–µ—Ä–µ–∑ API: –º–µ—Ç–æ–¥ exchange.set_margin_mode(symbol, marginType), –≥–¥–µ marginType = "ISOLATED" –∏–ª–∏ "CROSSED"‚Äã
stackoverflow.com
. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ Cross-–º–∞—Ä–∂–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –≠—Ç–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤, —á—Ç–æ–±—ã –≤—Å–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ –ø–æ–¥ –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏. –ù–æ –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É: –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å Cross-–ø–ª–µ—á–æ–º, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ —Å—Ç–∞–≤–∏—Ç –ø–æ–¥ —É–≥—Ä–æ–∑—É –≤–µ—Å—å —Å—á–µ—Ç –ø—Ä–∏ –±–æ–ª—å—à–æ–º –ø–ª–µ—á–µ‚Äã
binance.com
. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å—Å—è –æ—Ç —ç—Ç–æ–≥–æ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∞—Ä–∂—É, —Ü–µ–Ω–æ–π —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–∏–¥–µ—Ç—Å—è —Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∫–∞–∂–¥—ã–º –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º –ø–ª–µ—á–æ–º –≤—Ä—É—á–Ω—É—é. –í —Ä–µ–∂–∏–º–µ Cross –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–¥–∞—Ç—å –ø–ª–µ—á–æ —á–µ—Ä–µ–∑ set_leverage ‚Äì –¥–∞–ª—å—à–µ –±–∏—Ä–∂–∞ —Å–∞–º–∞ –æ–±–µ—Å–ø–µ—á–∏—Ç, —á—Ç–æ–±—ã –≤—ã –Ω–µ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—Å–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –ø–ª–µ—á–∞. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –±–æ—Ç–∞ —É–∂–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–µ—á–∏: 5√ó –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –º–æ–Ω–µ—Ç (BTC, ETH –∏ —Ç.–¥.) –∏ 10√ó –¥–ª—è –±–æ–ª–µ–µ –º–µ–ª–∫–∏—Ö. –≠—Ç–æ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –æ–±—â–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ä–µ–∑–º–µ—Ä–Ω–æ –≤—ã—Å–æ–∫–æ–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –ø–ª–µ—á–æ‚Äã
binance.com
. –ù–æ–≤–∏—á–∫–∞–º –æ–±—ã—á–Ω–æ —Å–æ–≤–µ—Ç—É—é—Ç 2x-5x, –∏ –Ω–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤. –ù–µ —Å—Ç–æ–∏—Ç –≥–Ω–∞—Ç—å—Å—è –∑–∞ –º–∞–∫—Å–∏–º—É–º–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ Binance –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ 50x –∏–ª–∏ 75x ‚Äì —Ç–∞–∫–∏–µ –ø–ª–µ—á–∏ –º–æ–≥—É—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç –ø—Ä–∏ —Å–∏–ª—å–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤ –ø–æ–∑–∏—Ü–∏–∏‚Äã
binance.com
. –ù–∞—à –ø–æ–¥—Ö–æ–¥: –ø–ª–µ—á–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞–ø–∏—Ç–∞–ª–∞, –∞ –Ω–µ –¥–ª—è —Å–≤–µ—Ä—Ö—Ä–∏—Å–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ 3x –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö 10x –Ω–∞ DOGE ‚Äì —Ç.–µ. –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∏—Å–∫ 3% –∏ —Å—Ç–æ–ø 1%. –ü–ª–µ—á–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏, –Ω–æ –±–æ—Ç –∑–∞—á–∞—Å—Ç—É—é –≤–æ–∑—å–º–µ—Ç –º–µ–Ω—å—à–µ, –∏—Å—Ö–æ–¥—è –∏–∑ risk management. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–µ—á–∞ –≤ LEVERAGE_MAP —Å–∫–æ—Ä–µ–µ —Å–ª—É–∂–∞—Ç –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–∞—à–∏–º –Ω–∞–º–µ—Ä–µ–Ω–∏—è–º –ø–æ —Ä–∏—Å–∫—É. –í –∫–æ–¥–µ –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ—á–æ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–∞—Ö: –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è quantity –∏ entry_price –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ quantity * entry*price –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç balance * max_leverage. –ù–æ —Ä–∞–∑ –º—ã –∏ —Ç–∞–∫ —Å–æ–±–ª—é–¥–∞–µ–º —Ä–∏—Å–∫-–ø—Ä–æ—Ü–µ–Ω—Ç, —ç—Ç–æ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ risk_percent –æ—á–µ–Ω—å –≤–µ–ª–∏–∫). –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –ª–∏—à–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç: –ø—Ä–∏ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–ª–∞–Ω—Å —Å–∏–ª—å–Ω–æ –≤—ã—Ä–æ—Å, –∞ –ø–ª–µ—á–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –æ—Å—Ç–∞–ª–æ—Å—å –º–∞–ª–µ–Ω—å–∫–∏–º) –±–æ—Ç –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à—É—é –ø–æ–∑–∏—Ü–∏—é. 6. –í—ã–≤–æ–¥: –≥–∏–±–∫–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å
–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –∫ —Ä–∞–∑–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º —Ñ–æ–∫—É—Å –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ä–∏—Å–∫–∞ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏. –ß—Ç–æ —É–¥–∞–ª–æ—Å—å —É–ª—É—á—à–∏—Ç—å:
–ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–π: –º—ã —É—á–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–∏—Å—Å–∏–π Binance Futures USDC-M (0% –º–µ–π–∫–µ—Ä, –Ω–∏–∑–∫–∏–π —Ç–µ–π–∫–µ—Ä) –∏ –≤—Å—Ç—Ä–æ–∏–ª–∏ –∏—Ö —Ä–∞—Å—á–µ—Ç –≤ –ª–æ–≥–∏–∫—É. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –∫–æ–º–∏—Å—Å–∏—è –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞ –∏ ¬´—Å—ä–µ–¥–∞–µ—Ç¬ª –∑–Ω–∞—á–∏–º—É—é –¥–æ–ª—é –ø—Ä–æ—Ñ–∏—Ç–∞. –§–æ—Ä–º—É–ª–∞ –∫–æ–º–∏—Å—Å–∏–∏ –≤–∫–ª—é—á–µ–Ω–∞ –≤ —Ä–∞—Å—á–µ—Ç—ã –ø—Ä–∏–±—ã–ª–∏, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è –º–µ–ª–∫–∏—Ö —Å–¥–µ–ª–æ–∫.
–ó–∞—â–∏—Ç–∞ –º–µ–ª–∫–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞: –≤–≤–µ–¥–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ü–µ–ª–∏ –ø—Ä–∏–±—ã–ª–∏ –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö —Ü–∏—Ñ—Ä–∞—Ö. –¢–µ–ø–µ—Ä—å –±–æ—Ç —Å—Ç—Ä–µ–º–∏—Ç—Å—è –Ω–µ –¥–µ–ª–∞—Ç—å —Å–¥–µ–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–µ—Å—É—Ç –∫–æ–ø–µ–π–∫–∏. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ –¥–ª—è –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è –ø–æ—Ä–æ–≥–∞ –∫–æ–º–∏—Å—Å–∏–π. –û—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –¥–µ–ø–æ –¥–æ 100 USDC ‚Äì –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —Ö–æ—Ç—è –±—ã $0.3‚Äì0.5 —Å –∫–∞–∂–¥–æ–π —É–¥–∞—á–Ω–æ–π —Å–¥–µ–ª–∫–∏ —á–∏—Å—Ç—ã–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Å—á–µ—Ç–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—â—É—Ç–∏–º–µ–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –∑–∞–º–µ—Ç–µ–Ω.
–ß–∞—Å—Ç–∏—á–Ω—ã–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏: –ª–æ–≥–∏–∫–∞ TP1/TP2 –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∞ –∏ –ø—Ä–æ–∏–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–∏–º–µ—Ä–æ–º. –¢–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —É—Ä–æ–≤–Ω–∏, –∫–∞–∫ –¥–æ–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è, –∫–∞–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ–∑—É–±—ã—Ç–æ–∫. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏–ª–∏ –¥–æ–ª–∏, –∑–Ω–∞—è –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç. –ü–æ–¥—Ö–æ–¥ —Å –¥–≤—É–º—è —Ç–µ–π–∫–∞–º–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –æ–ø—ã—Ç–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤‚Äã
binance.com
: –∑–∞–±–∏—Ä–∞—Ç—å —á–∞—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏ –∏ –ø–æ–∑–≤–æ–ª—è—Ç—å –æ—Å—Ç–∞–≤—à–µ–π—Å—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–∏–Ω–µ—Å—Ç–∏ –±–æ–ª—å—à–µ. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é (–µ—Å—Ç—å —á—É–≤—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ –Ω–∞ TP1, –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —à–∞–Ω—Å –Ω–∞ –±–æ–Ω—É—Å –Ω–∞ TP2).
–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –≤—ã–¥–µ–ª–µ–Ω–∏–µ order_utils –∏ tp_utils –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ—Ç–∏–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π–ª–∏–Ω–≥-—Å—Ç–æ–ø –∏ –ø—Ä.) –±—É–¥–µ—Ç –ø—Ä–æ—â–µ, –Ω–µ —Ä–∏—Å–∫—É—è —Å–ª–æ–º–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫. –ö–æ–¥ —Å—Ç–∞–ª –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.
–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–ª–µ—á–∞ –∏ –º–∞—Ä–∂–∏ —á–µ—Ä–µ–∑ API: –º—ã —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–±–µ–ª, –¥–æ–±–∞–≤–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–µ—á–∞. –ë–æ—Ç —Ç–µ–ø–µ—Ä—å —Å–∞–º –≤—ã—Å—Ç–∞–≤–∏—Ç –Ω—É–∂–Ω–æ–µ –ø–ª–µ—á–æ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ‚Äã
stmoonar.xlog.page
, –∏—Å–∫–ª—é—á–∞—è —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω –º–µ–∂–¥—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é –Ω–∞ –±–∏—Ä–∂–µ. –£—á–µ—Ç —Ä–µ–∂–∏–º–∞ Cross/Isolated –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –º–∞—Ä–∂–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Å—Ç–∞–µ—Ç—Å—è Cross, —á—Ç–æ —É–¥–æ–±–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Å—å –¥–µ–ø–æ–∑–∏—Ç, –Ω–æ –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ä–∞–∑—ä—è—Å–Ω–µ–Ω—ã —Ä–∏—Å–∫–∏ –∏ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∞—Ä–∂—É‚Äã
binance.com
.
–í –∑–∞–∫–ª—é—á–µ–Ω–∏–µ, –¥–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç –±–æ—Ç–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ –ø—Ä–∏–±—ã–ª—å–Ω—ã–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö –±–∞–ª–∞–Ω—Å–∞. –ú–∞–ª–µ–Ω—å–∫–∏–π —Å—á–µ—Ç —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω –æ—Ç –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ ‚Äì –∫–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ö–æ—Ç—è –±—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∑–Ω–∞—á–∏–º—É—é –ø—Ä–∏–±—ã–ª—å –ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏. –ë–æ–ª—å—à–æ–π —Å—á–µ—Ç —Ç–æ–∂–µ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –æ—Ç –≥–∏–±–∫–æ–π —Å–∏—Å—Ç–µ–º—ã: –¥–æ–ª–∏ —Ä–∏—Å–∫–∞ –∏ –ø–ª–µ—á–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è, —Ü–µ–ª–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ç—Ä–µ–Ω–¥—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å—Ç–æ–∏—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –≤ —Å–∏–º—É–ª—è—Ü–∏–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏. –ù–æ –≤ —Ü–µ–ª–æ–º, –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º: –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–¥–µ—Ä–∂–∫–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Ä–∞—â–∏–≤–∞—Ç—å –∫–∞–ø–∏—Ç–∞–ª. –£—Å–ø–µ—à–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏! üöÄ

====================================================================================================

–ù–∏–∂–µ —è –ø—Ä–∏–≤–µ–¥—É –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å —É—á—ë—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ—Ç –ì—Ä–æ–∫–∞, –º–æ–∏—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤—ã–≤–æ–¥–æ–≤ –∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã:

–£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ —Ä–∞—Å—á–µ—Ç —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏

–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞

–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ TP1/TP2 —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π

–í—ã–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–∞ –æ–±—ä—ë–º–∞ –æ—Ä–¥–µ—Ä–æ–≤ –∏ —Ü–µ–ª–µ–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –≤ –º–æ–¥—É–ª–∏ (order_utils.py –∏ tp_utils.py)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞ —á–µ—Ä–µ–∑ API

1. –£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ —Ä–∞—Å—á–µ—Ç —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏
   –ö–æ–º–∏—Å—Å–∏–∏ Binance Futures (USDC-M):
   –ú–µ–π–∫–µ—Ä: 0%

–¢–µ–π–∫–µ—Ä: –ø—Ä–∏–º–µ—Ä–Ω–æ 0.01% (—Å —É—á—ë—Ç–æ–º –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–æ–∑—å–º—ë–º conservative: 0.0001)

–†–∞—Å—á—ë—Ç —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏:
–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã, –ø–æ—ç—Ç–æ–º—É –æ–∂–∏–¥–∞–µ–º–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫:

# –ß–∏—Å—Ç–∞—è¬†–ø—Ä–∏–±—ã–ª—å

–í–∞–ª–æ–≤–∞—è¬†–ø—Ä–∏–±—ã–ª—å
‚àí
2
√ó
(
–û–±—ä—ë–º
√ó
–¶–µ–Ω–∞¬†–≤—Ö–æ–¥–∞
√ó
—Å—Ç–∞–≤–∫–∞¬†–∫–æ–º–∏—Å—Å–∏–∏
)
–ß–∏—Å—Ç–∞—è¬†–ø—Ä–∏–±—ã–ª—å=–í–∞–ª–æ–≤–∞—è¬†–ø—Ä–∏–±—ã–ª—å‚àí2√ó(–û–±—ä—ë–º√ó–¶–µ–Ω–∞¬†–≤—Ö–æ–¥–∞√ó—Å—Ç–∞–≤–∫–∞¬†–∫–æ–º–∏—Å—Å–∏–∏)
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏:

–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞ = $100,

TP1 –∑–∞–¥–∞–Ω –Ω–∞ +0.7% (—Ç–æ –µ—Å—Ç—å $100.70),

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ TP1 —á–∞—Å—Ç–∏ = 70% –æ—Ç –≤—Å–µ–≥–æ –æ–±—ä—ë–º–∞,

–¢–æ–≥–¥–∞ –≤–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å –Ω–∞ TP1 = (TP1 ‚Äì —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞) √ó (–∫–æ–ª-–≤–æ √ó 0.7).

–ú—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –¥–ª—è –≤—Å–µ–π –ø–æ–∑–∏—Ü–∏–∏ (–ø–æ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã), –ø–æ—Å–ª–µ —á–µ–≥–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–æ—Ä–æ–≥–æ–º —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏.

2. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏
   –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –ø–æ –¥–µ–ø–æ–∑–∏—Ç–∞–º —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

–î–µ–ø–æ–∑–∏—Ç –¥–æ $50: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ‚âà $0.3

–î–µ–ø–æ–∑–∏—Ç –¥–æ $100: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ‚âà $0.5

–î–µ–ø–æ–∑–∏—Ç –¥–æ $500: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ‚âà $1.0

–î–µ–ø–æ–∑–∏—Ç —Å–≤—ã—à–µ $500: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ‚âà $2.0

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥:

python
Copy

# config.py

TAKER_FEE_RATE = 0.0001 # 0.01%
MIN_NET_PROFIT = {50: 0.3, 100: 0.5, 500: 1.0, 'max': 2.0}

def get_min_net_profit(balance):
for threshold in sorted(k for k in MIN_NET_PROFIT if k != 'max'):
if balance <= threshold:
return MIN_NET_PROFIT[threshold]
return MIN_NET_PROFIT['max']
–í —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, should_enter_trade) –¥–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∂–∏–¥–∞–µ–º–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏:

python
Copy

# –í should_enter_trade:

entry*price = df["close"].iloc[-1]
tp1_price = calculate_tp1(entry_price)
qty = calculate_order_quantity(entry_price, balance)
expected_pnl = abs(tp1_price - entry_price) * qty
min*target_pnl = 0.5 if balance <= 70 else max(0.6, balance * 0.006)
if expected_pnl < min_target_pnl:
log(f"‚ö†Ô∏è Skipping {symbol} ‚Äî expected PnL ${expected_pnl:.2f} < min ${min_target_pnl:.2f}", level="DEBUG")
return None
–≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–≤–æ–ª–∏—Ç –±–æ—Ç—É –Ω–µ –≤—Ö–æ–¥–∏—Ç—å –≤ —Å–¥–µ–ª–∫–∏, –≥–¥–µ, –ø–æ—Å–ª–µ –≤—ã—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏, –ø—Ä–∏–±—ã–ª—å –æ–∫–∞–∂–µ—Ç—Å—è –Ω–∏–∂–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞.

3. –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ TP1/TP2 —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π
   –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö —É—Ä–æ–≤–Ω–µ–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞:

TP1: –ù–∞–ø—Ä–∏–º–µ—Ä, +0.7% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞

TP2: –ù–∞–ø—Ä–∏–º–µ—Ä, +1.3% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞

SL: -1% –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (flat/trend) —É—Ä–æ–≤–Ω–∏ –º–æ–≥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è:

Flat —Ä–µ–∂–∏–º: —É–º–Ω–æ–∂–∞–µ–º TP –∏ SL –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.7)

Trend —Ä–µ–∂–∏–º: TP2 –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 1.3), SL ‚Äì —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

–î–ª—è —è—Å–Ω–æ—Å—Ç–∏ –∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç —ç—Ç–∏—Ö —É—Ä–æ–≤–Ω–µ–π –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å tp_utils.py.

–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏:

python
Copy

# tp_utils.py

from config import TP1_PERCENT, TP2_PERCENT, SL_PERCENT, FLAT_ADJUSTMENT, TREND_ADJUSTMENT, AUTO_TP_SL_ENABLED

def calculate_tp_levels(entry_price: float, side: str, regime: str = None, score: float = 5):
tp1_pct = TP1_PERCENT
tp2_pct = TP2_PERCENT
sl_pct = SL_PERCENT

    if AUTO_TP_SL_ENABLED and regime:
        if regime == "flat":
            tp1_pct *= FLAT_ADJUSTMENT
            tp2_pct *= FLAT_ADJUSTMENT if tp2_pct else None
            sl_pct *= FLAT_ADJUSTMENT
        elif regime == "trend":
            tp2_pct *= TREND_ADJUSTMENT if tp2_pct else None
            sl_pct *= TREND_ADJUSTMENT

    if side.lower() == "buy":
        tp1_price = entry_price * (1 + tp1_pct)
        tp2_price = entry_price * (1 + tp2_pct) if tp2_pct else None
        sl_price  = entry_price * (1 - sl_pct)
    else:
        tp1_price = entry_price * (1 - tp1_pct)
        tp2_price = entry_price * (1 - tp2_pct) if tp2_pct else None
        sl_price  = entry_price * (1 + sl_pct)
    return round(tp1_price, 4), (round(tp2_price, 4) if tp2_price else None), round(sl_price, 4)

–≠—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –≤ trade_engine.py.

4. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: order_utils.py –∏ tp_utils.py
   order_utils.py
   –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞ –∑–∞ —Ä–∞—Å—á—ë—Ç –æ–±—ä—ë–º–∞ –æ—Ä–¥–µ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤) —Å —É—á—ë—Ç–æ–º –≤—Ö–æ–¥–Ω–æ–π —Ü–µ–Ω—ã, —Å—Ç–æ–ø-—Ü–µ–Ω—ã –∏ —Ä–∏—Å–∫-–ø—Ä–æ—Ü–µ–Ω—Ç–∞.

–ü—Ä–∏–º–µ—Ä:

python
Copy

# order_utils.py

def calculate_order_quantity(entry_price: float, stop_price: float, balance: float, risk_percent: float) -> float:
"""–í—ã—á–∏—Å–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∏—Å–∫–∞."""
risk_amount = balance \* risk_percent
risk_per_contract = abs(entry_price - stop_price)
qty = risk_amount / risk_per_contract if risk_per_contract > 0 else 0
return round(qty, 3)
tp_utils.py
–ö–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ, –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ TP1, TP2 –∏ SL.

–≠—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º, —É–ª—É—á—à–∞–µ—Ç –µ–≥–æ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞ —á–µ—Ä–µ–∑ API
   –í —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –µ—Å—Ç—å LEVERAGE_MAP, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, utils_core.py:

python
Copy

# utils_core.py (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)

def set_leverage_for_symbols(symbols):
for symbol in symbols:
leverage = LEVERAGE_MAP.get(symbol, 5)
try:
exchange.set_leverage(leverage, symbol)
log(f"Set leverage for {symbol} to {leverage}x", level="INFO")
except Exception as e:
log(f"Failed to set leverage for {symbol}: {e}", level="ERROR")
–ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤).

–ò—Ç–æ–≥ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
–ü–æ –∏—Ç–æ–≥–∞–º:

–£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏: –†–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∂–∏–¥–∞–µ–º–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –º–∞–ª—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤, —á—Ç–æ–±—ã —Å–¥–µ–ª–∫–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–Ω–æ—Å–∏–ª–∏ –ø—Ä–∏–±—ã–ª—å –≤—ã—à–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞.

–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ TP: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ tp_utils.py –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —É—Ä–æ–≤–Ω–µ–π TP/SL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.

–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ order_utils.py –∏ tp_utils.py –ø–æ–≤—ã—Å–∏—Ç —É–¥–æ–±—Å—Ç–≤–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∫–æ–¥–∞ –∏ —É—Å–∫–æ—Ä–∏—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ—á–æ–º: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–µ—á–∞ —á–µ—Ä–µ–∑ API, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ (LEVERAGE_MAP) –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ç–æ—Ä–≥–æ–≤—ã–º —É—Å–ª–æ–≤–∏—è–º.

–†–µ–∂–∏–º—ã –º–∞—Ä–∂–∏: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Cross-–º–∞—Ä–∂–∞ –¥–ª—è –º–∞–ª—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤, —á—Ç–æ —É–¥–æ–±–Ω–æ, –Ω–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ –∂–µ—Å—Ç–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–º.

–≠—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å—É—é—Ç—Å—è —Å –≤—ã–≤–æ–¥–∞–º–∏ –æ—Ç—á—ë—Ç–∞ –ì—Ä–æ–∫–∞ –∏ –Ω–∞—à–∏–º–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è–º–∏. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏—Ç –≥–∏–±–∫–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã, –ø–æ–≤—ã—Å–∏—Ç –µ—ë —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –¥–∞–∂–µ –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–º –¥–µ–ø–æ–∑–∏—Ç–µ, –ø—Ä–∏ —ç—Ç–æ–º –∑–∞—â–∏—â–∞—è –∫–∞–ø–∏—Ç–∞–ª –æ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω—ã—Ö –∫–æ–º–∏—Å—Å–∏–π –∏ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤.

==========================================================
–º–µ–ª–∫–∏–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è:

–£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏ (—Ç–µ–π–∫–µ—Ä ~0,01% –Ω–∞ –≤—Ö–æ–¥ –∏ –≤—ã—Ö–æ–¥) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–∂–∏–¥–∞–µ–º—É—é —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ —Å–¥–µ–ª–∫—É ‚Äì —ç—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å—á–µ—Ç–∞ –¥–æ 50‚ÄØUSD –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–∫–æ–ª–æ 0,3‚ÄØUSD, –¥–ª—è 50‚Äì100‚ÄØUSD ‚Äì –ø—Ä–∏–º–µ—Ä–Ω–æ 0,5‚ÄØUSD, –∞ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Å—É–º–º–∞—Ö –ø–æ—Ä–æ–≥ —Ä–∞—Å—Ç–µ—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å —Å–¥–µ–ª–æ–∫, –≥–¥–µ –∫–æ–º–∏—Å—Å–∏–∏ "—Å—ä–µ–¥–∞—é—Ç" –≤—Å—é –ø—Ä–∏–±—ã–ª—å.

–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ TP1/TP2.
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–∞ —É—Ä–æ–≤–Ω–µ–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (TP1 –¥–ª—è 70% –ø–æ–∑–∏—Ü–∏–∏, TP2 –¥–ª—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è 30%) —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Ñ–ª—ç—Ç –∏–ª–∏ —Ç—Ä–µ–Ω–¥) —É–ª—É—á—à–∞–µ—Ç —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–¥–µ–ª–∫–∞–º–∏ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–≤–∏–∂–µ–Ω–∏—è—Ö —Ü–µ–Ω—ã.

–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç—ã –æ–±—ä—ë–º–∞ –æ—Ä–¥–µ—Ä–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å (order_utils.py) –∏ —Ä–∞—Å—á—ë—Ç —É—Ä–æ–≤–Ω–µ–π —Ç–µ–π–∫–∞ –≤ tp_utils.py –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –æ–±–ª–µ–≥—á–∞–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–µ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ. –≠—Ç–æ —Ç–∞–∫–∂–µ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –æ–±—â–∏–π –¥–≤–∏–∂–æ–∫.

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ—á–æ–º.
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞ —á–µ—Ä–µ–∑ API (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LEVERAGE_MAP) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∂–µ–ª–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –±—É–¥—É—Ç —Å–æ–±–ª—é–¥–µ–Ω—ã. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ, –∫–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥—ë—Ç –æ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–µ–ø–æ–∑–∏—Ç–∞—Ö, –≥–¥–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º –ø–ª–µ—á–æ–º –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–Ω—É–∂–Ω—ã–º —Ä–∏—Å–∫–∞–º.

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö should_enter_trade –∏ enter_trade) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (safe_call_retry) –ø—Ä–∏ –≤—ã–∑–æ–≤–∞—Ö API –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–µ—á–∞, —Ä–∞—Å—á—ë—Ç–∞ –æ—Ä–¥–µ—Ä–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–π–∫–æ–≤, —Å–¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
